<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Blue | PwndSide</title><meta name=keywords content="smb,windows"><meta name=description content="A windows room that has vulnerable samba service running."><meta name=author content="Ayman Boulaich"><link rel=canonical href=https://canonical.url/to/page><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://pwndside.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://pwndside.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://pwndside.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://pwndside.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://pwndside.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Blue"><meta property="og:description" content="A windows room that has vulnerable samba service running."><meta property="og:type" content="article"><meta property="og:url" content="https://pwndside.github.io/posts/blue-htb/"><meta property="og:image" content="https://pwndside.github.io/%3Cimage%20path/url%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-06-26T12:51:31+02:00"><meta property="article:modified_time" content="2023-06-26T12:51:31+02:00"><meta property="og:site_name" content="PwndSide"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://pwndside.github.io/%3Cimage%20path/url%3E"><meta name=twitter:title content="Blue"><meta name=twitter:description content="A windows room that has vulnerable samba service running."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://pwndside.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Blue","item":"https://pwndside.github.io/posts/blue-htb/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Blue","name":"Blue","description":"A windows room that has vulnerable samba service running.","keywords":["smb","windows"],"articleBody":"Room Information Room name: Blue Difficulty level: Easy Room link: https://app.hackthebox.com/machines/Blue Tools Used Nmap Metasploit Meterpreter Port Scanning Other room, other port scan.\nPORT STATE SERVICE REASON VERSION 135/tcp open msrpc syn-ack ttl 127 Microsoft Windows RPC 139/tcp open netbios-ssn syn-ack ttl 127 Microsoft Windows netbios-ssn 445/tcp open syn-ack ttl 127 Windows 7 Professional 7601 Service Pack 1 microsoft-ds (workgroup: WORKGROUP) 49152/tcp open msrpc syn-ack ttl 127 Microsoft Windows RPC 49153/tcp open msrpc syn-ack ttl 127 Microsoft Windows RPC 49154/tcp open msrpc syn-ack ttl 127 Microsoft Windows RPC 49155/tcp open msrpc syn-ack ttl 127 Microsoft Windows RPC 49156/tcp open msrpc syn-ack ttl 127 Microsoft Windows RPC 49157/tcp open msrpc syn-ack ttl 127 Microsoft Windows RPC Service Info: Host: HARIS-PC; OS: Windows; CPE: cpe:/o:microsoft:windows Host script results: | smb-os-discovery: | OS: Windows 7 Professional 7601 Service Pack 1 (Windows 7 Professional 6.1) | OS CPE: cpe:/o:microsoft:windows_7::sp1:professional | Computer name: haris-PC | NetBIOS computer name: HARIS-PC\\x00 | Workgroup: WORKGROUP\\x00 |_ System time: 2023-06-26T00:26:53+01:00 | smb2-security-mode: | 2:1:0: |_ Message signing enabled but not required |_clock-skew: mean: -19m58s, deviation: 34m37s, median: 0s | smb2-time: | date: 2023-06-25T23:26:57 |_ start_date: 2023-06-25T23:12:05 | p2p-conficker: | Checking for Conficker.C or higher... | Check 1 (port 12383/tcp): CLEAN (Couldn't connect) | Check 2 (port 28365/tcp): CLEAN (Couldn't connect) | Check 3 (port 19006/udp): CLEAN (Timeout) | Check 4 (port 26942/udp): CLEAN (Failed to receive data) |_ 0/4 checks are positive: Host is CLEAN or ports are blocked | smb-security-mode: | account_used: guest | authentication_level: user | challenge_response: supported |_ message_signing: disabled (dangerous, but default) I found 2 open ports for samba service 139 and 445 and the other ones are for msrpc. Let’s focus on samba.\nEnumeration I am going to enumerate the possible vulnerabilities with sudo nmap 10.10.10.14 -p 139,445 --script=vuln\nHost script results: |_smb-vuln-ms10-061: NT_STATUS_OBJECT_NAME_NOT_FOUND | smb-vuln-ms17-010: | VULNERABLE: | Remote Code Execution vulnerability in Microsoft SMBv1 servers (ms17-010) | State: VULNERABLE | IDs: CVE:CVE-2017-0143 | Risk factor: HIGH | A critical remote code execution vulnerability exists in Microsoft SMBv1 | servers (ms17-010). | | Disclosure date: 2017-03-14 | References: | https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-0143 | https://blogs.technet.microsoft.com/msrc/2017/05/12/customer-guidance-for-wannacrypt-attacks/ |_ https://technet.microsoft.com/en-us/library/security/ms17-010.aspx |_smb-vuln-ms10-054: false We have a eternal blue vulnerability MS17-010 (CVE-2017-0143) which gives us RCE in the Microsoft Samba services that are vulnerable, this time I am going to use metasploit to exploit it.\nExploiting Upon started metasploit we got that search results, the second one fits well in this situation. I am going to set the Remote Host and the Local Host as any metasploit exploit and then running it.\nGaining an Initial Foothold We are in now\nWe can’t use the dir and whoami command, but my intuition tells me that we are privileged users.\nLet’s find ourselves the directory, If we go to the root directory C:\\ we can find users directory and inside there are two interesting users the Administrator and haris. In his desktops there are the flags.\nWe are privilaged users, my intuition has not failed.\nFlags User Flag\nRoot Flag\nLessons Learned What insights did you gain from the room?\nIt’s pretty similar to the legacy room, so I tried to replicate the methodology but with metasploit this time.\nWere there any novel tools or techniques employed?\nThe use of metasploit and meterpreter helps me a lot to exploit easily this vulnerability.\n","wordCount":"549","inLanguage":"en","image":"https://pwndside.github.io/%3Cimage%20path/url%3E","datePublished":"2023-06-26T12:51:31+02:00","dateModified":"2023-06-26T12:51:31+02:00","author":{"@type":"Person","name":"Ayman Boulaich"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://pwndside.github.io/posts/blue-htb/"},"publisher":{"@type":"Organization","name":"PwndSide","logo":{"@type":"ImageObject","url":"https://pwndside.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://pwndside.github.io/ accesskey=h title="PwndSide (Alt + H)"><img src=https://pwndside.github.io/apple-touch-icon.png alt aria-label=logo height=35>PwndSide</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://pwndside.github.io/categories/hackthebox title=HackTheBox><span>HackTheBox</span></a></li><li><a href=https://pwndside.github.io/categories/ctf title="CTF's"><span>CTF's</span></a></li><li><a href=https://pwndside.github.io/about/whoami/ title=whoami><span>whoami</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://pwndside.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://pwndside.github.io/posts/>Posts</a></div><h1 class=post-title>Blue</h1><div class=post-description>A windows room that has vulnerable samba service running.</div><div class=post-meta><span title='2023-06-26 12:51:31 +0200 CEST'>June 26, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;549 words&nbsp;·&nbsp;Ayman Boulaich&nbsp;|&nbsp;<a href=https://github.com/pwndside/pwndside.github.io/content/posts/blue-htb.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#room-information>Room Information</a></li><li><a href=#tools-used>Tools Used</a></li><li><a href=#port-scanning>Port Scanning</a></li><li><a href=#enumeration>Enumeration</a></li><li><a href=#exploiting>Exploiting</a></li><li><a href=#gaining-an-initial-foothold>Gaining an Initial Foothold</a></li><li><a href=#flags>Flags</a></li><li><a href=#lessons-learned>Lessons Learned</a></li></ul></nav></div></details></div><div class=post-content><h2 id=room-information>Room Information<a hidden class=anchor aria-hidden=true href=#room-information>#</a></h2><ul><li>Room name: Blue</li><li>Difficulty level: Easy</li><li>Room link: <a href=https://app.hackthebox.com/machines/Blue>https://app.hackthebox.com/machines/Blue</a></li></ul><p><img loading=lazy src=/HTB/blue-icon.png alt=Untitled></p><h2 id=tools-used>Tools Used<a hidden class=anchor aria-hidden=true href=#tools-used>#</a></h2><ul><li>Nmap</li><li>Metasploit</li><li>Meterpreter</li></ul><h2 id=port-scanning>Port Scanning<a hidden class=anchor aria-hidden=true href=#port-scanning>#</a></h2><p>Other room, other port scan.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>PORT      STATE SERVICE     REASON          VERSION
</span></span><span class=line><span class=cl>135/tcp   open  msrpc       syn-ack ttl <span class=m>127</span> Microsoft Windows RPC
</span></span><span class=line><span class=cl>139/tcp   open  netbios-ssn syn-ack ttl <span class=m>127</span> Microsoft Windows netbios-ssn
</span></span><span class=line><span class=cl>445/tcp   open              syn-ack ttl <span class=m>127</span> Windows <span class=m>7</span> Professional <span class=m>7601</span> Service Pack <span class=m>1</span> microsoft-ds <span class=o>(</span>workgroup: WORKGROUP<span class=o>)</span>
</span></span><span class=line><span class=cl>49152/tcp open  msrpc       syn-ack ttl <span class=m>127</span> Microsoft Windows RPC
</span></span><span class=line><span class=cl>49153/tcp open  msrpc       syn-ack ttl <span class=m>127</span> Microsoft Windows RPC
</span></span><span class=line><span class=cl>49154/tcp open  msrpc       syn-ack ttl <span class=m>127</span> Microsoft Windows RPC
</span></span><span class=line><span class=cl>49155/tcp open  msrpc       syn-ack ttl <span class=m>127</span> Microsoft Windows RPC
</span></span><span class=line><span class=cl>49156/tcp open  msrpc       syn-ack ttl <span class=m>127</span> Microsoft Windows RPC
</span></span><span class=line><span class=cl>49157/tcp open  msrpc       syn-ack ttl <span class=m>127</span> Microsoft Windows RPC
</span></span><span class=line><span class=cl>Service Info: Host: HARIS-PC<span class=p>;</span> OS: Windows<span class=p>;</span> CPE: cpe:/o:microsoft:windows
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Host script results:
</span></span><span class=line><span class=cl><span class=p>|</span> smb-os-discovery:
</span></span><span class=line><span class=cl><span class=p>|</span>   OS: Windows <span class=m>7</span> Professional <span class=m>7601</span> Service Pack <span class=m>1</span> <span class=o>(</span>Windows <span class=m>7</span> Professional 6.1<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   OS CPE: cpe:/o:microsoft:windows_7::sp1:professional
</span></span><span class=line><span class=cl><span class=p>|</span>   Computer name: haris-PC
</span></span><span class=line><span class=cl><span class=p>|</span>   NetBIOS computer name: HARIS-PC<span class=se>\x</span><span class=m>00</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   Workgroup: WORKGROUP<span class=se>\x</span><span class=m>00</span>
</span></span><span class=line><span class=cl><span class=p>|</span>_  System time: 2023-06-26T00:26:53+01:00
</span></span><span class=line><span class=cl><span class=p>|</span> smb2-security-mode:
</span></span><span class=line><span class=cl><span class=p>|</span>   2:1:0:
</span></span><span class=line><span class=cl><span class=p>|</span>_    Message signing enabled but not required
</span></span><span class=line><span class=cl><span class=p>|</span>_clock-skew: mean: -19m58s, deviation: 34m37s, median: 0s
</span></span><span class=line><span class=cl><span class=p>|</span> smb2-time:
</span></span><span class=line><span class=cl><span class=p>|</span>   date: 2023-06-25T23:26:57
</span></span><span class=line><span class=cl><span class=p>|</span>_  start_date: 2023-06-25T23:12:05
</span></span><span class=line><span class=cl><span class=p>|</span> p2p-conficker:
</span></span><span class=line><span class=cl><span class=p>|</span>   Checking <span class=k>for</span> Conficker.C or higher...
</span></span><span class=line><span class=cl><span class=p>|</span>   Check <span class=m>1</span> <span class=o>(</span>port 12383/tcp<span class=o>)</span>: CLEAN <span class=o>(</span>Couldn<span class=s1>&#39;t connect)
</span></span></span><span class=line><span class=cl><span class=s1>|   Check 2 (port 28365/tcp): CLEAN (Couldn&#39;</span>t connect<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   Check <span class=m>3</span> <span class=o>(</span>port 19006/udp<span class=o>)</span>: CLEAN <span class=o>(</span>Timeout<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   Check <span class=m>4</span> <span class=o>(</span>port 26942/udp<span class=o>)</span>: CLEAN <span class=o>(</span>Failed to receive data<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=p>|</span>_  0/4 checks are positive: Host is CLEAN or ports are blocked
</span></span><span class=line><span class=cl><span class=p>|</span> smb-security-mode:
</span></span><span class=line><span class=cl><span class=p>|</span>   account_used: guest
</span></span><span class=line><span class=cl><span class=p>|</span>   authentication_level: user
</span></span><span class=line><span class=cl><span class=p>|</span>   challenge_response: supported
</span></span><span class=line><span class=cl><span class=p>|</span>_  message_signing: disabled <span class=o>(</span>dangerous, but default<span class=o>)</span>
</span></span></code></pre></div><p>I found 2 open ports for samba service 139 and 445 and the other ones are for msrpc. Let’s focus on samba.</p><h2 id=enumeration>Enumeration<a hidden class=anchor aria-hidden=true href=#enumeration>#</a></h2><p>I am going to enumerate the possible vulnerabilities with <code>sudo nmap 10.10.10.14 -p 139,445 --script=vuln</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Host script results:
</span></span><span class=line><span class=cl><span class=p>|</span>_smb-vuln-ms10-061: NT_STATUS_OBJECT_NAME_NOT_FOUND
</span></span><span class=line><span class=cl><span class=p>|</span> smb-vuln-ms17-010:
</span></span><span class=line><span class=cl><span class=p>|</span>   VULNERABLE:
</span></span><span class=line><span class=cl><span class=p>|</span>   Remote Code Execution vulnerability in Microsoft SMBv1 servers <span class=o>(</span>ms17-010<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=p>|</span>     State: VULNERABLE
</span></span><span class=line><span class=cl><span class=p>|</span>     IDs:  CVE:CVE-2017-0143
</span></span><span class=line><span class=cl><span class=p>|</span>     Risk factor: HIGH
</span></span><span class=line><span class=cl><span class=p>|</span>       A critical remote code execution vulnerability exists in Microsoft SMBv1
</span></span><span class=line><span class=cl><span class=p>|</span>        servers <span class=o>(</span>ms17-010<span class=o>)</span>.
</span></span><span class=line><span class=cl><span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>     Disclosure date: 2017-03-14
</span></span><span class=line><span class=cl><span class=p>|</span>     References:
</span></span><span class=line><span class=cl><span class=p>|</span>       https://cve.mitre.org/cgi-bin/cvename.cgi?name<span class=o>=</span>CVE-2017-0143
</span></span><span class=line><span class=cl><span class=p>|</span>       https://blogs.technet.microsoft.com/msrc/2017/05/12/customer-guidance-for-wannacrypt-attacks/
</span></span><span class=line><span class=cl><span class=p>|</span>_      https://technet.microsoft.com/en-us/library/security/ms17-010.aspx
</span></span><span class=line><span class=cl><span class=p>|</span>_smb-vuln-ms10-054: <span class=nb>false</span>
</span></span></code></pre></div><p>We have a eternal blue vulnerability MS17-010 (CVE-2017-0143) which gives us RCE in the Microsoft Samba services that are vulnerable, this time I am going to use metasploit to exploit it.</p><h2 id=exploiting>Exploiting<a hidden class=anchor aria-hidden=true href=#exploiting>#</a></h2><p><img loading=lazy src=/HTB/blue-1.png alt=Untitled></p><p>Upon started metasploit we got that search results, the second one fits well in this situation. I am going to set the Remote Host and the Local Host as any metasploit exploit and then running it.</p><h2 id=gaining-an-initial-foothold>Gaining an Initial Foothold<a hidden class=anchor aria-hidden=true href=#gaining-an-initial-foothold>#</a></h2><p>We are in now</p><p><img loading=lazy src=/HTB/blue-5.png alt=Untitled></p><p>We can’t use the dir and whoami command, but my intuition tells me that we are privileged users.</p><p><img loading=lazy src=/HTB/blue-4.png alt=Untitled></p><p><img loading=lazy src=/HTB/blue-2.png alt=Untitled></p><p>Let’s find ourselves the directory, If we go to the root directory C:\ we can find users directory and inside there are two interesting users the Administrator and haris. In his desktops there are the flags.</p><p>We are privilaged users, my intuition has not failed.</p><h2 id=flags>Flags<a hidden class=anchor aria-hidden=true href=#flags>#</a></h2><p><strong>User Flag</strong></p><p><img loading=lazy src=/HTB/blue-6.png alt=Untitled></p><p><strong>Root Flag</strong></p><p><img loading=lazy src=/HTB/blue-7.png alt=Untitled></p><h2 id=lessons-learned>Lessons Learned<a hidden class=anchor aria-hidden=true href=#lessons-learned>#</a></h2><ul><li><p>What insights did you gain from the room?</p><p>It’s pretty similar to the legacy room, so I tried to replicate the methodology but with metasploit this time.</p></li><li><p>Were there any novel tools or techniques employed?</p><p>The use of metasploit and meterpreter helps me a lot to exploit easily this vulnerability.</p></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://pwndside.github.io/tags/smb/>smb</a></li><li><a href=https://pwndside.github.io/tags/windows/>windows</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://pwndside.github.io/>PwndSide</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>